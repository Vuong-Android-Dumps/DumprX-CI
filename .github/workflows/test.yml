name: CI

on:
  push:
  pull_request:

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Light cleanup (~1GB)
        run: |
          echo "Before cleanup:"
          df -h

          # Clean apt cache
          sudo apt-get clean
          sudo rm -rf /var/lib/apt/lists/*

          # Remove temp files
          sudo rm -rf /tmp/*

          # Prune unused Docker data (usually a few hundred MB to 1GB)
          docker system prune -af || true

          echo "After cleanup:"
          df -h
